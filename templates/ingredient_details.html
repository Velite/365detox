{% extends "layout.html" %}

{% block content %}

    <div class="content-header clearfix">
        <div class="pull-left">
            <h2>{{ title }}</h2>
        </div>
    </div>
    <div class="row col-sm-11">
        <form class="form-horizontal">
            <div class="form-group">
                <label for="inputName" class="col-sm-3 control-label">Название</label>

                <div class="col-sm-9">
                    <input type="text" class="form-control" id="inputName" placeholder="Введите название"
                           data-bind="value: Name">
                </div>
            </div>
            <div class="form-group">
                <label for="inputCommonName" class="col-sm-3 control-label">Общее название</label>

                <div class="col-sm-9">
                    <input type="text" class="form-control" autocomplete="off" data-provide="typeahead"
                           id="inputCommonName"
                           placeholder="Введите общее название" data-bind="value: CommonName">
                </div>
            </div>
            <div class="form-group">
                <label for="inputExpire" class="col-sm-3 control-label">Срок годности (дней)</label>

                <div class="col-sm-9">
                    <input type="text" class="form-control" id="inputExpire"
                           placeholder="Введите срок годности" data-bind="value: ExpirationDays">
                </div>
            </div>
            <div class="form-group">
                <label for="inputMeasure" class="col-sm-3 control-label">Ед. измерения</label>

                <div class="col-xs-9">
                    <select id="inputMeasure" class="form-control"
                            data-bind="options: Measures, optionsText: 'Caption', optionsValue: 'Id', value: MeasureId"></select>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-1 col-sm-11">
                    <hr/>
                    <button class="btn btn-success" data-bind="click: Save">Сохранить</button>
                </div>
            </div>
        </form>
    </div>

{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="{{ url_for('static', filename='scripts/ingredient_details.js') }}"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("li#ingredients").addClass("active");
            ko.applyBindings(new IngredientModel({{ ingredient|default([]) }}, {{ commons|default([]) }}, {{ measures|default([]) }}));
        });
    </script>
{% endblock %}